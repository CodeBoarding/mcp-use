{
  "description": "The Agent Core subsystem is the central intelligence unit responsible for orchestrating AI agent behavior, managing conversation flow, and coordinating tool usage within the mcp_use project. It is primarily encapsulated within the mcp_use.agents package.",
  "components": [
    {
      "name": "MCPAgent",
      "description": "The central orchestrator and concrete implementation of an AI agent. It manages the agent's reasoning loop, maintains conversation history, integrates with Large Language Models (LLMs), handles tool execution, and processes structured outputs. It embodies the core intelligence and operational flow of the agent.",
      "referenced_source_code": [
        {
          "qualified_name": "mcp_use.agents.mcpagent.MCPAgent",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/mcp-use/mcp_use/agents/mcpagent.py",
          "reference_start_line": 44,
          "reference_end_line": 1011
        }
      ],
      "can_expand": true
    },
    {
      "name": "BaseAgent",
      "description": "An abstract base class that defines the foundational interface and common behaviors for all agents within the framework. It establishes a contract for agent lifecycle management (e.g., initialization, execution, querying) and state tracking (e.g., maximum steps, previous steps).",
      "referenced_source_code": [
        {
          "qualified_name": "mcp_use.agents.base.BaseAgent",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/mcp-use/mcp_use/agents/base.py",
          "reference_start_line": 13,
          "reference_end_line": 61
        }
      ],
      "can_expand": true
    },
    {
      "name": "SystemPromptBuilder",
      "description": "A utility component responsible for dynamically constructing the system prompt provided to the LLM. It incorporates descriptions of available tools, additional instructions, and selects appropriate prompt templates based on the agent's configuration.",
      "referenced_source_code": [
        {
          "qualified_name": "mcp_use.agents.prompts.system_prompt_builder.SystemPromptBuilder",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/mcp-use/mcp_use/agents/prompts/system_prompt_builder.py",
          "reference_start_line": 1,
          "reference_end_line": 1000
        }
      ],
      "can_expand": true
    },
    {
      "name": "RemoteAgent",
      "description": "A specialized agent implementation or a component that facilitates communication with external, remotely hosted agent services. It handles the serialization of requests, deserialization of responses, and manages underlying network interactions (e.g., API keys, base URLs). It also includes logic for parsing structured output received from remote services.",
      "referenced_source_code": [
        {
          "qualified_name": "mcp_use.agents.remote.RemoteAgent",
          "reference_file": "/home/ubuntu/CodeBoarding/repo/mcp-use/mcp_use/agents/remote.py",
          "reference_start_line": 18,
          "reference_end_line": 239
        }
      ],
      "can_expand": true
    }
  ],
  "components_relations": [
    {
      "relation": "inherits from",
      "src_name": "MCPAgent",
      "dst_name": "BaseAgent"
    },
    {
      "relation": "uses",
      "src_name": "MCPAgent",
      "dst_name": "SystemPromptBuilder"
    },
    {
      "relation": "delegates to",
      "src_name": "MCPAgent",
      "dst_name": "RemoteAgent"
    }
  ]
}
